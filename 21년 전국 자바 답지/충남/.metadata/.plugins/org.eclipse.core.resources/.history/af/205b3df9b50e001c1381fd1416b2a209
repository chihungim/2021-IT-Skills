package view;

import java.awt.GridLayout;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;

import javax.swing.Box;
import javax.swing.BoxLayout;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.Timer;
import javax.swing.border.EmptyBorder;

public class Main extends BaseFrame {
	static String cap[] = "로그인,회원가입,위치정보,예매,매직패스(0),MyPage,놀이기구 인기순위 Top5,놀이기구 등록/수정,월별 분석,종료".split(",");
	static JLabel lbl[] = new JLabel[cap.length];
	static final int LOGOUT = 0, USER = 1, ADMIN = 2;
	static String cnt = "";
	JLabel img1, img2;

	int lorry = 1, lotty = 1;

	public Main() {
		super("메인", 700, 300);
		ui();
		events();
		setVisible(true);
	}

	private void ui() {
		var w = new JPanel();
		var c = new JPanel(new GridLayout());

		add(w, "West");
		add(c);

		for (int i = 0; i < cap.length; i++) {
			w.add(Box.createVerticalStrut(5));
			w.add(lbl[i] = new JLabel(cap[i], 0));
			lbl[i].setAlignmentX(CENTER_ALIGNMENT);
		}

		c.add(img1 = imglbl("./datafile/캐릭터/로티" + lotty + ".jpg", 200, 250));
		c.add(img2 = imglbl("./datafile/캐릭터/로리" + lorry + ".jpg", 200, 250));
		w.setLayout(new BoxLayout(w, BoxLayout.Y_AXIS));
		w.setOpaque(false);
		c.setOpaque(false);

		((JPanel) (getContentPane())).setBorder(new EmptyBorder(5, 5, 5, 5));
	}

	private void events() {
		for (int i = 0; i < lbl.length; i++) {
			lbl[i].addMouseListener(new MouseAdapter() {
				@Override
				public void mousePressed(MouseEvent e) {
					super.mousePressed(e);
				}
			});
		}

		new Timer(500, a -> {
			if (lorry == 3) {
				lotty = 1;
				lorry = 1;
			} else {
				lotty++;
				lorry++;
			}

			img1.setIcon(img("./datafiles/캐릭터/로티" + lotty + ".jpg", 200, 250));
			img2.setIcon(img("./datafiles/캐릭터/로리" + lorry + ".jpg", 200, 250));
			revalidate();
			repaint();
		}).start();
	}

	static void enbLabel() {

	}

	public static void main(String[] args) {
		new Main();
	}
}
